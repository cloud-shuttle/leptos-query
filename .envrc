# Automatically load the Nix development environment
use flake

# Set up additional environment variables
export RUST_BACKTRACE=1
export RUST_LOG=info
export NODE_ENV=development

# Add local binaries to PATH
export PATH="$PWD/target/debug:$PATH"
export PATH="$PWD/demo/node_modules/.bin:$PATH"

# Rust-specific environment
export RUST_SRC_PATH="$(rustc --print sysroot)/lib/rustlib/src/rust/library"
export CARGO_TARGET_WASM32_UNKNOWN_UNKNOWN_LINKER="$(which lld)"

echo "ðŸš€ Leptos Query development environment loaded!"
echo "Available commands:"
echo "  â€¢ nix run .#dev     - Start development server"
echo "  â€¢ nix run .#test    - Run all tests"
echo "  â€¢ nix run .#bench   - Run benchmarks"
echo "  â€¢ nix run .#wasm    - Build WASM"
